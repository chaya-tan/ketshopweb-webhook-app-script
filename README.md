# Ketshopweb Webhook Handler (Google Apps Script)

This repository contains Google Apps Script code to handle webhooks from Ketshopweb, an e-commerce website template service.

## Setup

1. **Clone the repository:**

   ```bash
   git clone https://github.com/your-username/ketshopweb-webhook-handler.git

   ```

2. **Open Google Sheets:**

   - Open a new or existing Google Sheets document.
   - name the sheet 'webhook input'
   - Copy the following line and paste it into the first row of your Google Sheets:

```text
Timestamp,Row Type,Type,data.id,data.status,data.cod,data.order_complete,data.ordercode,data.channel,data.channel_name,data.trackcode,data.totals,data.name,data.address1,data.address2,data.district,data.subdistrict,data.province,data.zipcode,data.tel,data.created_at,data.updated_at,data.details.id,data.details.title,data.details.sku,data.details.qty,data.details.price,data.details.product_price,data.details.properties_desc,data.details.property_info,data.details.properties_desc2,data.details.property_info2,data.details.property_option,data.details.feature_img,data.details.customer_note,data.details.note
```

You may use SPLIT(A1, ",") to separate it into cells.

## Fields Description

Hereâ€™s the same list with brief descriptions for each field:

- **Timestamp**: The date and time the record was processed
- **Row Type**: Indicates if the row is for an order or an order item
- **Type**: The type of webhook event (orderCreate or orderUpdate)
- **data.id**: The ID of the order
- **data.status**: The status of the order
- **data.cod**: Cash on Delivery status (0 for no, 1 for yes)
- **data.order_complete**: Indicates if the order is complete (1 for complete, 0 for not complete)
- **data.ordercode**: The order code
- **data.channel**: The sales channel (e.g., website, app)
- **data.channel_name**: The name of the sales channel
- **data.trackcode**: The tracking code for the shipment
- **data.totals**: The total amount for the order
- **data.name**: The name of the customer
- **data.address1**: The primary address of the customer
- **data.address2**: The secondary address of the customer (if any)
- **data.district**: The district of the customer's address
- **data.subdistrict**: The subdistrict of the customer's address
- **data.province**: The province of the customer's address
- **data.zipcode**: The postal code of the customer's address
- **data.tel**: The customer's telephone number
- **data.created_at**: The date and time the order was created
- **data.updated_at**: The date and time the order was last updated
- **data.details.id**: The ID of the order item
- **data.details.title**: The title of the order item
- **data.details.sku**: The SKU (Stock Keeping Unit) of the order item
- **data.details.qty**: The quantity of the order item
- **data.details.price**: The price of the order item
- **data.details.product_price**: The total price for the order item
- **data.details.properties_desc**: Description of the item's properties (e.g., color)
- **data.details.property_info**: Information about the item's properties
- **data.details.properties_desc2**: Description of additional item properties (if any)
- **data.details.property_info2**: Information about additional item properties (if any)
- **data.details.property_option**: Option number for the item's properties
- **data.details.feature_img**: URL of the item's feature image
- **data.details.customer_note**: Any note from the customer
- **data.details.note**: Any additional note for the order item

3. **Open Script Editor:**

   - Click on `Extensions` -> `Apps Script`.

4. **Copy the Code:**

   - Copy the content from `src/Code.gs` and paste it into the Google Apps Script editor.

5. **Save and Deploy:**

   - Save the script.
   - Deploy as a web app:
     - Click on `Deploy` -> `New deployment`.
     - Select `Web app`.
     - Set `Execute as` to `Me`.
     - Set `Who has access` to `Anyone`.
     - Click `Deploy` and follow the prompts to authorize.

6. **Configure Webhook:**
   - Use the provided web app URL to configure the webhook in Ketshopweb.

## Files

- `src/Code.gs`: Main Google Apps Script code for handling webhooks from Ketshopweb.

## Attribution

This code was initially generated by ChatGPT and later corrected by the repository owner.

## License

This project is licensed under the MIT License.

The code generated by
